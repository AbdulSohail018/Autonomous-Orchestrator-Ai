# Spark Configuration for Data Pipeline
spark.serializer                 org.apache.spark.serializer.KryoSerializer
spark.sql.adaptive.enabled       true
spark.sql.adaptive.coalescePartitions.enabled    true
spark.sql.streaming.checkpointLocation    /data/checkpoints/spark

# Kafka and Avro packages
spark.jars.packages    org.apache.spark:spark-sql-kafka-0-10_2.12:3.4.0,org.apache.spark:spark-avro_2.12:3.4.0,net.snowflake:snowflake-jdbc:3.13.30,net.snowflake:spark-snowflake_2.12:2.11.0-spark_3.4

# Memory and performance settings
spark.executor.memory            2g
spark.driver.memory              2g
spark.executor.cores             2
spark.sql.shuffle.partitions     8

# Streaming settings
spark.sql.streaming.metricsEnabled    true
spark.sql.streaming.ui.enabled        true

# Checkpointing
spark.sql.streaming.checkpointLocation.deleteOnStop    false

# Logging
spark.eventLog.enabled           true
spark.eventLog.dir               /data/logs/spark-events

# Dynamic allocation
spark.dynamicAllocation.enabled  false